@page "/"
@using Syncfusion.Blazor
@using Syncfusion.Blazor.Charts
@using System.Collections.ObjectModel
@using System.Text.Json
@using System.Security.Cryptography

<PageTitle>Home</PageTitle>

<h1>Hello, world!</h1>

    <SfStockChart EnableCustomRange="true" EnablePeriodSelector="true" EnableSelector="false" Theme="Syncfusion.Blazor.Theme.Bootstrap"
             IndicatorType="@IndicatorType" TrendlineType="@TrendlineType" SeriesType="@SeriesType" ExportType="@ExportType" Width="100%">
                <StockChartLegendSettings Visible="true"></StockChartLegendSettings>
            <StockChartChartBorder Width="0"></StockChartChartBorder>
            <StockChartPeriods>
                <StockChartPeriod IntervalType="RangeIntervalType.Auto" Text="All" Selected="true"></StockChartPeriod>
                    <StockChartPeriod IntervalType="RangeIntervalType.Years" Interval="1" Text="1Y"></StockChartPeriod>
                    <StockChartPeriod IntervalType="RangeIntervalType.Months" Interval="1" Text="1M"></StockChartPeriod>
                    <StockChartPeriod IntervalType="RangeIntervalType.Weeks" Interval="1" Text="1W"></StockChartPeriod>
                    <StockChartPeriod IntervalType="RangeIntervalType.Days" Interval="1" Text="1D"></StockChartPeriod>
                    <StockChartPeriod IntervalType="RangeIntervalType.Hours" Interval="1" Text="1H"></StockChartPeriod>
                <StockChartPeriod IntervalType="RangeIntervalType.Minutes" Interval="30" Text="30m"></StockChartPeriod>
                <StockChartPeriod IntervalType="RangeIntervalType.Minutes" Interval="5" Text="5m"></StockChartPeriod>
            </StockChartPeriods>
            <StockChartZoomSettings EnablePan="true" EnableMouseWheelZooming="true" EnableScrollbar="true" EnableSelectionZooming="true"
                ToolbarItems="@ToolbarItem" Mode="ZoomMode.X"></StockChartZoomSettings>
            <StockChartCrosshairSettings Enable="true"></StockChartCrosshairSettings>

            <StockChartPrimaryYAxis EnableAutoIntervalOnZooming="true">
            </StockChartPrimaryYAxis>

             <StockChartPrimaryXAxis ValueType="@Syncfusion.Blazor.Charts.ValueType.DateTimeCategory">
                <StockChartAxisCrosshairTooltip Enable="true"></StockChartAxisCrosshairTooltip>
            </StockChartPrimaryXAxis>


            <StockChartSeriesCollection>
                <StockChartSeries DataSource="@OHLCVValues" Type="ChartSeriesType.Candle" YName="Close" XName="DateTime" Open="Open" High="High"
                                  Low="Low" Close="Close" Volume="Volume">
                    <StockChartSeriesAnimation Enable="false"></StockChartSeriesAnimation>
                </StockChartSeries>
            </StockChartSeriesCollection>
            <StockChartChartArea>
                <StockChartChartAreaBorder Width="0"></StockChartChartAreaBorder>
            </StockChartChartArea>
        </SfStockChart>


@code{
    public class OHLCV
    {
        public DateTime DateTime { get; set; }
        public double DateTimeDouble { get; set; }
        public decimal Open { get; set; }
        public decimal High { get; set; }
        public decimal Low { get; set; }
        public decimal Close { get; set; }
        public decimal Volume { get; set; }
        public double OpenDouble { get; set; }
        public double HighDouble { get; set; }
        public double LowDouble { get; set; }
        public double CloseDouble { get; set; }
        public double VolumeDouble { get; set; }
    }

    public List<ToolbarItems> ToolbarItem = new List<ToolbarItems>() { ToolbarItems.Zoom, ToolbarItems.Reset, ToolbarItems.Pan };
    public List<TechnicalIndicators> IndicatorType = new List<TechnicalIndicators>() { };
    public List<TrendlineTypes> TrendlineType = new List<TrendlineTypes>() { };
    public List<ExportType> ExportType = new List<ExportType>() { };
    public List<ChartSeriesType> SeriesType = new List<ChartSeriesType>() { ChartSeriesType.Line, ChartSeriesType.Candle };
    private string serialized = "[{\"DateTime\":\"2024-04-23T17:15:00+02:00\",\"DateTimeDouble\":45405.71875,\"Open\":17416,\"High\":17416,\"Low\":17414,\"Close\":17416,\"Volume\":0,\"OpenDouble\":17416,\"HighDouble\":17416,\"LowDouble\":17414,\"CloseDouble\":17416,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T09:00:00+02:00\",\"DateTimeDouble\":45406.375,\"Open\":17400,\"High\":17400,\"Low\":17314,\"Close\":17320,\"Volume\":2560,\"OpenDouble\":17400,\"HighDouble\":17400,\"LowDouble\":17314,\"CloseDouble\":17320,\"VolumeDouble\":2560},{\"DateTime\":\"2024-04-24T09:05:00+02:00\",\"DateTimeDouble\":45406.37847222222,\"Open\":17320,\"High\":17346,\"Low\":17320,\"Close\":17346,\"Volume\":1606,\"OpenDouble\":17320,\"HighDouble\":17346,\"LowDouble\":17320,\"CloseDouble\":17346,\"VolumeDouble\":1606},{\"DateTime\":\"2024-04-24T09:10:00+02:00\",\"DateTimeDouble\":45406.381944444445,\"Open\":17346,\"High\":17346,\"Low\":17344,\"Close\":17346,\"Volume\":0,\"OpenDouble\":17346,\"HighDouble\":17346,\"LowDouble\":17344,\"CloseDouble\":17346,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T09:15:00+02:00\",\"DateTimeDouble\":45406.385416666664,\"Open\":17366,\"High\":17366,\"Low\":17364,\"Close\":17366,\"Volume\":200,\"OpenDouble\":17366,\"HighDouble\":17366,\"LowDouble\":17364,\"CloseDouble\":17366,\"VolumeDouble\":200},{\"DateTime\":\"2024-04-24T09:20:00+02:00\",\"DateTimeDouble\":45406.38888888889,\"Open\":17366,\"High\":17366,\"Low\":17350,\"Close\":17350,\"Volume\":56,\"OpenDouble\":17366,\"HighDouble\":17366,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":56},{\"DateTime\":\"2024-04-24T09:25:00+02:00\",\"DateTimeDouble\":45406.39236111111,\"Open\":17350,\"High\":17350,\"Low\":17344,\"Close\":17350,\"Volume\":59,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17344,\"CloseDouble\":17350,\"VolumeDouble\":59},{\"DateTime\":\"2024-04-24T09:30:00+02:00\",\"DateTimeDouble\":45406.395833333336,\"Open\":17350,\"High\":17350,\"Low\":17344,\"Close\":17350,\"Volume\":1052,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17344,\"CloseDouble\":17350,\"VolumeDouble\":1052},{\"DateTime\":\"2024-04-24T09:35:00+02:00\",\"DateTimeDouble\":45406.399305555555,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":96,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":96},{\"DateTime\":\"2024-04-24T09:40:00+02:00\",\"DateTimeDouble\":45406.40277777778,\"Open\":17340,\"High\":17350,\"Low\":17340,\"Close\":17340,\"Volume\":1800,\"OpenDouble\":17340,\"HighDouble\":17350,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":1800},{\"DateTime\":\"2024-04-24T09:45:00+02:00\",\"DateTimeDouble\":45406.40625,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":577,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":577},{\"DateTime\":\"2024-04-24T09:50:00+02:00\",\"DateTimeDouble\":45406.40972222222,\"Open\":17346,\"High\":17350,\"Low\":17340,\"Close\":17340,\"Volume\":1770,\"OpenDouble\":17346,\"HighDouble\":17350,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":1770},{\"DateTime\":\"2024-04-24T09:55:00+02:00\",\"DateTimeDouble\":45406.413194444445,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":0,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:00:00+02:00\",\"DateTimeDouble\":45406.416666666664,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":0,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:05:00+02:00\",\"DateTimeDouble\":45406.42013888889,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":100,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":100},{\"DateTime\":\"2024-04-24T10:10:00+02:00\",\"DateTimeDouble\":45406.42361111111,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":0,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:15:00+02:00\",\"DateTimeDouble\":45406.427083333336,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":0,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:20:00+02:00\",\"DateTimeDouble\":45406.430555555555,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":220,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":220},{\"DateTime\":\"2024-04-24T10:25:00+02:00\",\"DateTimeDouble\":45406.43402777778,\"Open\":17346,\"High\":17350,\"Low\":17344,\"Close\":17350,\"Volume\":73,\"OpenDouble\":17346,\"HighDouble\":17350,\"LowDouble\":17344,\"CloseDouble\":17350,\"VolumeDouble\":73},{\"DateTime\":\"2024-04-24T10:30:00+02:00\",\"DateTimeDouble\":45406.4375,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":114,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":114},{\"DateTime\":\"2024-04-24T10:35:00+02:00\",\"DateTimeDouble\":45406.44097222222,\"Open\":17350,\"High\":17350,\"Low\":17344,\"Close\":17346,\"Volume\":195,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17344,\"CloseDouble\":17346,\"VolumeDouble\":195},{\"DateTime\":\"2024-04-24T10:40:00+02:00\",\"DateTimeDouble\":45406.444444444445,\"Open\":17346,\"High\":17346,\"Low\":17334,\"Close\":17340,\"Volume\":2579,\"OpenDouble\":17346,\"HighDouble\":17346,\"LowDouble\":17334,\"CloseDouble\":17340,\"VolumeDouble\":2579},{\"DateTime\":\"2024-04-24T10:45:00+02:00\",\"DateTimeDouble\":45406.447916666664,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":0,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:50:00+02:00\",\"DateTimeDouble\":45406.45138888889,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":0,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T10:55:00+02:00\",\"DateTimeDouble\":45406.45486111111,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":7,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":7},{\"DateTime\":\"2024-04-24T11:00:00+02:00\",\"DateTimeDouble\":45406.458333333336,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":0,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T11:05:00+02:00\",\"DateTimeDouble\":45406.461805555555,\"Open\":17340,\"High\":17340,\"Low\":17334,\"Close\":17336,\"Volume\":187,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":187},{\"DateTime\":\"2024-04-24T11:10:00+02:00\",\"DateTimeDouble\":45406.46527777778,\"Open\":17336,\"High\":17336,\"Low\":17334,\"Close\":17336,\"Volume\":0,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T11:15:00+02:00\",\"DateTimeDouble\":45406.46875,\"Open\":17340,\"High\":17340,\"Low\":17340,\"Close\":17340,\"Volume\":17,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17340,\"CloseDouble\":17340,\"VolumeDouble\":17},{\"DateTime\":\"2024-04-24T11:20:00+02:00\",\"DateTimeDouble\":45406.47222222222,\"Open\":17340,\"High\":17340,\"Low\":17334,\"Close\":17336,\"Volume\":20,\"OpenDouble\":17340,\"HighDouble\":17340,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":20},{\"DateTime\":\"2024-04-24T11:25:00+02:00\",\"DateTimeDouble\":45406.475694444445,\"Open\":17336,\"High\":17340,\"Low\":17334,\"Close\":17336,\"Volume\":714,\"OpenDouble\":17336,\"HighDouble\":17340,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":714},{\"DateTime\":\"2024-04-24T11:30:00+02:00\",\"DateTimeDouble\":45406.479166666664,\"Open\":17336,\"High\":17336,\"Low\":17334,\"Close\":17336,\"Volume\":66,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":66},{\"DateTime\":\"2024-04-24T11:35:00+02:00\",\"DateTimeDouble\":45406.48263888889,\"Open\":17336,\"High\":17336,\"Low\":17330,\"Close\":17336,\"Volume\":253,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17330,\"CloseDouble\":17336,\"VolumeDouble\":253},{\"DateTime\":\"2024-04-24T11:40:00+02:00\",\"DateTimeDouble\":45406.48611111111,\"Open\":17336,\"High\":17336,\"Low\":17334,\"Close\":17336,\"Volume\":0,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T11:45:00+02:00\",\"DateTimeDouble\":45406.489583333336,\"Open\":17336,\"High\":17350,\"Low\":17334,\"Close\":17350,\"Volume\":380,\"OpenDouble\":17336,\"HighDouble\":17350,\"LowDouble\":17334,\"CloseDouble\":17350,\"VolumeDouble\":380},{\"DateTime\":\"2024-04-24T11:50:00+02:00\",\"DateTimeDouble\":45406.493055555555,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":0,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T11:55:00+02:00\",\"DateTimeDouble\":45406.49652777778,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":0,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T12:00:00+02:00\",\"DateTimeDouble\":45406.5,\"Open\":17370,\"High\":17370,\"Low\":17370,\"Close\":17370,\"Volume\":270,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":270},{\"DateTime\":\"2024-04-24T12:05:00+02:00\",\"DateTimeDouble\":45406.50347222222,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":2548,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":2548},{\"DateTime\":\"2024-04-24T12:10:00+02:00\",\"DateTimeDouble\":45406.506944444445,\"Open\":17350,\"High\":17350,\"Low\":17350,\"Close\":17350,\"Volume\":3834,\"OpenDouble\":17350,\"HighDouble\":17350,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":3834},{\"DateTime\":\"2024-04-24T12:15:00+02:00\",\"DateTimeDouble\":45406.510416666664,\"Open\":17336,\"High\":17340,\"Low\":17330,\"Close\":17330,\"Volume\":588,\"OpenDouble\":17336,\"HighDouble\":17340,\"LowDouble\":17330,\"CloseDouble\":17330,\"VolumeDouble\":588},{\"DateTime\":\"2024-04-24T12:20:00+02:00\",\"DateTimeDouble\":45406.51388888889,\"Open\":17330,\"High\":17336,\"Low\":17314,\"Close\":17336,\"Volume\":864,\"OpenDouble\":17330,\"HighDouble\":17336,\"LowDouble\":17314,\"CloseDouble\":17336,\"VolumeDouble\":864},{\"DateTime\":\"2024-04-24T12:25:00+02:00\",\"DateTimeDouble\":45406.51736111111,\"Open\":17316,\"High\":17316,\"Low\":17250,\"Close\":17260,\"Volume\":3794,\"OpenDouble\":17316,\"HighDouble\":17316,\"LowDouble\":17250,\"CloseDouble\":17260,\"VolumeDouble\":3794},{\"DateTime\":\"2024-04-24T12:30:00+02:00\",\"DateTimeDouble\":45406.520833333336,\"Open\":17260,\"High\":17260,\"Low\":17260,\"Close\":17260,\"Volume\":0,\"OpenDouble\":17260,\"HighDouble\":17260,\"LowDouble\":17260,\"CloseDouble\":17260,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T12:35:00+02:00\",\"DateTimeDouble\":45406.524305555555,\"Open\":17336,\"High\":17336,\"Low\":17264,\"Close\":17266,\"Volume\":100,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17264,\"CloseDouble\":17266,\"VolumeDouble\":100},{\"DateTime\":\"2024-04-24T12:40:00+02:00\",\"DateTimeDouble\":45406.52777777778,\"Open\":17336,\"High\":17336,\"Low\":17334,\"Close\":17336,\"Volume\":1,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":1},{\"DateTime\":\"2024-04-24T12:45:00+02:00\",\"DateTimeDouble\":45406.53125,\"Open\":17336,\"High\":17336,\"Low\":17334,\"Close\":17336,\"Volume\":0,\"OpenDouble\":17336,\"HighDouble\":17336,\"LowDouble\":17334,\"CloseDouble\":17336,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T12:50:00+02:00\",\"DateTimeDouble\":45406.53472222222,\"Open\":17270,\"High\":17270,\"Low\":17270,\"Close\":17270,\"Volume\":60,\"OpenDouble\":17270,\"HighDouble\":17270,\"LowDouble\":17270,\"CloseDouble\":17270,\"VolumeDouble\":60},{\"DateTime\":\"2024-04-24T12:55:00+02:00\",\"DateTimeDouble\":45406.538194444445,\"Open\":17270,\"High\":17270,\"Low\":17270,\"Close\":17270,\"Volume\":0,\"OpenDouble\":17270,\"HighDouble\":17270,\"LowDouble\":17270,\"CloseDouble\":17270,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T13:00:00+02:00\",\"DateTimeDouble\":45406.541666666664,\"Open\":17270,\"High\":17336,\"Low\":17270,\"Close\":17336,\"Volume\":50,\"OpenDouble\":17270,\"HighDouble\":17336,\"LowDouble\":17270,\"CloseDouble\":17336,\"VolumeDouble\":50},{\"DateTime\":\"2024-04-24T13:05:00+02:00\",\"DateTimeDouble\":45406.54513888889,\"Open\":17270,\"High\":17336,\"Low\":17270,\"Close\":17336,\"Volume\":250,\"OpenDouble\":17270,\"HighDouble\":17336,\"LowDouble\":17270,\"CloseDouble\":17336,\"VolumeDouble\":250},{\"DateTime\":\"2024-04-24T13:10:00+02:00\",\"DateTimeDouble\":45406.54861111111,\"Open\":17276,\"High\":17336,\"Low\":17274,\"Close\":17336,\"Volume\":49,\"OpenDouble\":17276,\"HighDouble\":17336,\"LowDouble\":17274,\"CloseDouble\":17336,\"VolumeDouble\":49},{\"DateTime\":\"2024-04-24T13:15:00+02:00\",\"DateTimeDouble\":45406.552083333336,\"Open\":17300,\"High\":17300,\"Low\":17274,\"Close\":17296,\"Volume\":332,\"OpenDouble\":17300,\"HighDouble\":17300,\"LowDouble\":17274,\"CloseDouble\":17296,\"VolumeDouble\":332},{\"DateTime\":\"2024-04-24T13:20:00+02:00\",\"DateTimeDouble\":45406.555555555555,\"Open\":17296,\"High\":17296,\"Low\":17254,\"Close\":17256,\"Volume\":2137,\"OpenDouble\":17296,\"HighDouble\":17296,\"LowDouble\":17254,\"CloseDouble\":17256,\"VolumeDouble\":2137},{\"DateTime\":\"2024-04-24T13:25:00+02:00\",\"DateTimeDouble\":45406.55902777778,\"Open\":17256,\"High\":17256,\"Low\":17240,\"Close\":17246,\"Volume\":351,\"OpenDouble\":17256,\"HighDouble\":17256,\"LowDouble\":17240,\"CloseDouble\":17246,\"VolumeDouble\":351},{\"DateTime\":\"2024-04-24T13:30:00+02:00\",\"DateTimeDouble\":45406.5625,\"Open\":17246,\"High\":17300,\"Low\":17244,\"Close\":17296,\"Volume\":608,\"OpenDouble\":17246,\"HighDouble\":17300,\"LowDouble\":17244,\"CloseDouble\":17296,\"VolumeDouble\":608},{\"DateTime\":\"2024-04-24T13:35:00+02:00\",\"DateTimeDouble\":45406.56597222222,\"Open\":17256,\"High\":17296,\"Low\":17250,\"Close\":17296,\"Volume\":317,\"OpenDouble\":17256,\"HighDouble\":17296,\"LowDouble\":17250,\"CloseDouble\":17296,\"VolumeDouble\":317},{\"DateTime\":\"2024-04-24T13:40:00+02:00\",\"DateTimeDouble\":45406.569444444445,\"Open\":17250,\"High\":17340,\"Low\":17250,\"Close\":17276,\"Volume\":254,\"OpenDouble\":17250,\"HighDouble\":17340,\"LowDouble\":17250,\"CloseDouble\":17276,\"VolumeDouble\":254},{\"DateTime\":\"2024-04-24T13:45:00+02:00\",\"DateTimeDouble\":45406.572916666664,\"Open\":17336,\"High\":17340,\"Low\":17330,\"Close\":17340,\"Volume\":1312,\"OpenDouble\":17336,\"HighDouble\":17340,\"LowDouble\":17330,\"CloseDouble\":17340,\"VolumeDouble\":1312},{\"DateTime\":\"2024-04-24T13:50:00+02:00\",\"DateTimeDouble\":45406.57638888889,\"Open\":17340,\"High\":17356,\"Low\":17340,\"Close\":17350,\"Volume\":1951,\"OpenDouble\":17340,\"HighDouble\":17356,\"LowDouble\":17340,\"CloseDouble\":17350,\"VolumeDouble\":1951},{\"DateTime\":\"2024-04-24T13:55:00+02:00\",\"DateTimeDouble\":45406.57986111111,\"Open\":17380,\"High\":17380,\"Low\":17380,\"Close\":17380,\"Volume\":123,\"OpenDouble\":17380,\"HighDouble\":17380,\"LowDouble\":17380,\"CloseDouble\":17380,\"VolumeDouble\":123},{\"DateTime\":\"2024-04-24T14:00:00+02:00\",\"DateTimeDouble\":45406.583333333336,\"Open\":17390,\"High\":17400,\"Low\":17380,\"Close\":17400,\"Volume\":2821,\"OpenDouble\":17390,\"HighDouble\":17400,\"LowDouble\":17380,\"CloseDouble\":17400,\"VolumeDouble\":2821},{\"DateTime\":\"2024-04-24T14:05:00+02:00\",\"DateTimeDouble\":45406.586805555555,\"Open\":17400,\"High\":17400,\"Low\":17380,\"Close\":17380,\"Volume\":6,\"OpenDouble\":17400,\"HighDouble\":17400,\"LowDouble\":17380,\"CloseDouble\":17380,\"VolumeDouble\":6},{\"DateTime\":\"2024-04-24T14:10:00+02:00\",\"DateTimeDouble\":45406.59027777778,\"Open\":17380,\"High\":17380,\"Low\":17364,\"Close\":17366,\"Volume\":391,\"OpenDouble\":17380,\"HighDouble\":17380,\"LowDouble\":17364,\"CloseDouble\":17366,\"VolumeDouble\":391},{\"DateTime\":\"2024-04-24T14:15:00+02:00\",\"DateTimeDouble\":45406.59375,\"Open\":17376,\"High\":17376,\"Low\":17374,\"Close\":17376,\"Volume\":24,\"OpenDouble\":17376,\"HighDouble\":17376,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":24},{\"DateTime\":\"2024-04-24T14:20:00+02:00\",\"DateTimeDouble\":45406.59722222222,\"Open\":17386,\"High\":17390,\"Low\":17374,\"Close\":17376,\"Volume\":162,\"OpenDouble\":17386,\"HighDouble\":17390,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":162},{\"DateTime\":\"2024-04-24T14:25:00+02:00\",\"DateTimeDouble\":45406.600694444445,\"Open\":17390,\"High\":17396,\"Low\":17374,\"Close\":17376,\"Volume\":1160,\"OpenDouble\":17390,\"HighDouble\":17396,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":1160},{\"DateTime\":\"2024-04-24T14:30:00+02:00\",\"DateTimeDouble\":45406.604166666664,\"Open\":17376,\"High\":17376,\"Low\":17360,\"Close\":17376,\"Volume\":1897,\"OpenDouble\":17376,\"HighDouble\":17376,\"LowDouble\":17360,\"CloseDouble\":17376,\"VolumeDouble\":1897},{\"DateTime\":\"2024-04-24T14:35:00+02:00\",\"DateTimeDouble\":45406.60763888889,\"Open\":17386,\"High\":17386,\"Low\":17374,\"Close\":17376,\"Volume\":560,\"OpenDouble\":17386,\"HighDouble\":17386,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":560},{\"DateTime\":\"2024-04-24T14:40:00+02:00\",\"DateTimeDouble\":45406.61111111111,\"Open\":17380,\"High\":17386,\"Low\":17374,\"Close\":17386,\"Volume\":260,\"OpenDouble\":17380,\"HighDouble\":17386,\"LowDouble\":17374,\"CloseDouble\":17386,\"VolumeDouble\":260},{\"DateTime\":\"2024-04-24T14:45:00+02:00\",\"DateTimeDouble\":45406.614583333336,\"Open\":17390,\"High\":17390,\"Low\":17390,\"Close\":17390,\"Volume\":365,\"OpenDouble\":17390,\"HighDouble\":17390,\"LowDouble\":17390,\"CloseDouble\":17390,\"VolumeDouble\":365},{\"DateTime\":\"2024-04-24T14:50:00+02:00\",\"DateTimeDouble\":45406.618055555555,\"Open\":17376,\"High\":17386,\"Low\":17330,\"Close\":17386,\"Volume\":3612,\"OpenDouble\":17376,\"HighDouble\":17386,\"LowDouble\":17330,\"CloseDouble\":17386,\"VolumeDouble\":3612},{\"DateTime\":\"2024-04-24T14:55:00+02:00\",\"DateTimeDouble\":45406.62152777778,\"Open\":17386,\"High\":17386,\"Low\":17384,\"Close\":17386,\"Volume\":805,\"OpenDouble\":17386,\"HighDouble\":17386,\"LowDouble\":17384,\"CloseDouble\":17386,\"VolumeDouble\":805},{\"DateTime\":\"2024-04-24T15:00:00+02:00\",\"DateTimeDouble\":45406.625,\"Open\":17386,\"High\":17390,\"Low\":17374,\"Close\":17376,\"Volume\":424,\"OpenDouble\":17386,\"HighDouble\":17390,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":424},{\"DateTime\":\"2024-04-24T15:05:00+02:00\",\"DateTimeDouble\":45406.62847222222,\"Open\":17390,\"High\":17390,\"Low\":17360,\"Close\":17360,\"Volume\":3547,\"OpenDouble\":17390,\"HighDouble\":17390,\"LowDouble\":17360,\"CloseDouble\":17360,\"VolumeDouble\":3547},{\"DateTime\":\"2024-04-24T15:10:00+02:00\",\"DateTimeDouble\":45406.631944444445,\"Open\":17366,\"High\":17376,\"Low\":17360,\"Close\":17360,\"Volume\":105,\"OpenDouble\":17366,\"HighDouble\":17376,\"LowDouble\":17360,\"CloseDouble\":17360,\"VolumeDouble\":105},{\"DateTime\":\"2024-04-24T15:15:00+02:00\",\"DateTimeDouble\":45406.635416666664,\"Open\":17356,\"High\":17360,\"Low\":17350,\"Close\":17350,\"Volume\":352,\"OpenDouble\":17356,\"HighDouble\":17360,\"LowDouble\":17350,\"CloseDouble\":17350,\"VolumeDouble\":352},{\"DateTime\":\"2024-04-24T15:20:00+02:00\",\"DateTimeDouble\":45406.63888888889,\"Open\":17386,\"High\":17386,\"Low\":17350,\"Close\":17380,\"Volume\":98,\"OpenDouble\":17386,\"HighDouble\":17386,\"LowDouble\":17350,\"CloseDouble\":17380,\"VolumeDouble\":98},{\"DateTime\":\"2024-04-24T15:25:00+02:00\",\"DateTimeDouble\":45406.64236111111,\"Open\":17380,\"High\":17380,\"Low\":17380,\"Close\":17380,\"Volume\":75,\"OpenDouble\":17380,\"HighDouble\":17380,\"LowDouble\":17380,\"CloseDouble\":17380,\"VolumeDouble\":75},{\"DateTime\":\"2024-04-24T15:30:00+02:00\",\"DateTimeDouble\":45406.645833333336,\"Open\":17366,\"High\":17370,\"Low\":17360,\"Close\":17370,\"Volume\":1241,\"OpenDouble\":17366,\"HighDouble\":17370,\"LowDouble\":17360,\"CloseDouble\":17370,\"VolumeDouble\":1241},{\"DateTime\":\"2024-04-24T15:35:00+02:00\",\"DateTimeDouble\":45406.649305555555,\"Open\":17380,\"High\":17380,\"Low\":17380,\"Close\":17380,\"Volume\":142,\"OpenDouble\":17380,\"HighDouble\":17380,\"LowDouble\":17380,\"CloseDouble\":17380,\"VolumeDouble\":142},{\"DateTime\":\"2024-04-24T15:40:00+02:00\",\"DateTimeDouble\":45406.65277777778,\"Open\":17380,\"High\":17386,\"Low\":17370,\"Close\":17370,\"Volume\":278,\"OpenDouble\":17380,\"HighDouble\":17386,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":278},{\"DateTime\":\"2024-04-24T15:45:00+02:00\",\"DateTimeDouble\":45406.65625,\"Open\":17370,\"High\":17370,\"Low\":17370,\"Close\":17370,\"Volume\":15,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":15},{\"DateTime\":\"2024-04-24T15:50:00+02:00\",\"DateTimeDouble\":45406.65972222222,\"Open\":17370,\"High\":17370,\"Low\":17370,\"Close\":17370,\"Volume\":0,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T15:55:00+02:00\",\"DateTimeDouble\":45406.663194444445,\"Open\":17386,\"High\":17386,\"Low\":17370,\"Close\":17370,\"Volume\":360,\"OpenDouble\":17386,\"HighDouble\":17386,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":360},{\"DateTime\":\"2024-04-24T16:00:00+02:00\",\"DateTimeDouble\":45406.666666666664,\"Open\":17370,\"High\":17370,\"Low\":17370,\"Close\":17370,\"Volume\":0,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T16:05:00+02:00\",\"DateTimeDouble\":45406.67013888889,\"Open\":17386,\"High\":17386,\"Low\":17384,\"Close\":17386,\"Volume\":5,\"OpenDouble\":17386,\"HighDouble\":17386,\"LowDouble\":17384,\"CloseDouble\":17386,\"VolumeDouble\":5},{\"DateTime\":\"2024-04-24T16:10:00+02:00\",\"DateTimeDouble\":45406.67361111111,\"Open\":17370,\"High\":17370,\"Low\":17360,\"Close\":17360,\"Volume\":300,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17360,\"CloseDouble\":17360,\"VolumeDouble\":300},{\"DateTime\":\"2024-04-24T16:15:00+02:00\",\"DateTimeDouble\":45406.677083333336,\"Open\":17360,\"High\":17376,\"Low\":17360,\"Close\":17370,\"Volume\":362,\"OpenDouble\":17360,\"HighDouble\":17376,\"LowDouble\":17360,\"CloseDouble\":17370,\"VolumeDouble\":362},{\"DateTime\":\"2024-04-24T16:20:00+02:00\",\"DateTimeDouble\":45406.680555555555,\"Open\":17370,\"High\":17370,\"Low\":17370,\"Close\":17370,\"Volume\":0,\"OpenDouble\":17370,\"HighDouble\":17370,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T16:25:00+02:00\",\"DateTimeDouble\":45406.68402777778,\"Open\":17370,\"High\":17390,\"Low\":17370,\"Close\":17390,\"Volume\":4337,\"OpenDouble\":17370,\"HighDouble\":17390,\"LowDouble\":17370,\"CloseDouble\":17390,\"VolumeDouble\":4337},{\"DateTime\":\"2024-04-24T16:30:00+02:00\",\"DateTimeDouble\":45406.6875,\"Open\":17390,\"High\":17396,\"Low\":17390,\"Close\":17396,\"Volume\":733,\"OpenDouble\":17390,\"HighDouble\":17396,\"LowDouble\":17390,\"CloseDouble\":17396,\"VolumeDouble\":733},{\"DateTime\":\"2024-04-24T16:35:00+02:00\",\"DateTimeDouble\":45406.69097222222,\"Open\":17380,\"High\":17396,\"Low\":17380,\"Close\":17396,\"Volume\":928,\"OpenDouble\":17380,\"HighDouble\":17396,\"LowDouble\":17380,\"CloseDouble\":17396,\"VolumeDouble\":928},{\"DateTime\":\"2024-04-24T16:40:00+02:00\",\"DateTimeDouble\":45406.694444444445,\"Open\":17380,\"High\":17390,\"Low\":17370,\"Close\":17370,\"Volume\":4137,\"OpenDouble\":17380,\"HighDouble\":17390,\"LowDouble\":17370,\"CloseDouble\":17370,\"VolumeDouble\":4137},{\"DateTime\":\"2024-04-24T16:45:00+02:00\",\"DateTimeDouble\":45406.697916666664,\"Open\":17366,\"High\":17370,\"Low\":17354,\"Close\":17370,\"Volume\":356,\"OpenDouble\":17366,\"HighDouble\":17370,\"LowDouble\":17354,\"CloseDouble\":17370,\"VolumeDouble\":356},{\"DateTime\":\"2024-04-24T16:50:00+02:00\",\"DateTimeDouble\":45406.70138888889,\"Open\":17350,\"High\":17380,\"Low\":17350,\"Close\":17380,\"Volume\":474,\"OpenDouble\":17350,\"HighDouble\":17380,\"LowDouble\":17350,\"CloseDouble\":17380,\"VolumeDouble\":474},{\"DateTime\":\"2024-04-24T16:55:00+02:00\",\"DateTimeDouble\":45406.70486111111,\"Open\":17370,\"High\":17390,\"Low\":17370,\"Close\":17376,\"Volume\":13655,\"OpenDouble\":17370,\"HighDouble\":17390,\"LowDouble\":17370,\"CloseDouble\":17376,\"VolumeDouble\":13655},{\"DateTime\":\"2024-04-24T17:00:00+02:00\",\"DateTimeDouble\":45406.708333333336,\"Open\":17376,\"High\":17376,\"Low\":17374,\"Close\":17376,\"Volume\":0,\"OpenDouble\":17376,\"HighDouble\":17376,\"LowDouble\":17374,\"CloseDouble\":17376,\"VolumeDouble\":0},{\"DateTime\":\"2024-04-24T17:05:00+02:00\",\"DateTimeDouble\":45406.711805555555,\"Open\":17366,\"High\":17366,\"Low\":17364,\"Close\":17366,\"Volume\":227456,\"OpenDouble\":17366,\"HighDouble\":17366,\"LowDouble\":17364,\"CloseDouble\":17366,\"VolumeDouble\":227456}]";

    private ObservableCollection<OHLCV>? OHLCVValues { get; set; }

    protected Timer? _eventTimer;

    private OHLCV? LastOHLCV { get; set; }

    protected override async Task OnInitializedAsync()
    {
        OHLCVValues = new ObservableCollection<OHLCV>(JsonSerializer.Deserialize<OHLCV[]>(serialized)!);
        LastOHLCV = OHLCVValues.LastOrDefault();
        _eventTimer = new Timer(new TimerCallback(AddNewOHLCV), null, 0, 1000);
    }

    public void AddNewOHLCV(object? arg)
    {
        if (OHLCVValues != null && LastOHLCV != null)
        {
            decimal newValue = LastOHLCV.Close + (decimal)(30 * (RandomNumberGenerator.GetInt32(2) - 1));
            OHLCV newOHLCV = new OHLCV()
                {
                    DateTime = DateTime.Now,
                    Close = newValue,
                    Open = LastOHLCV.Close,
                    High = newValue + 20,
                    Low = newValue - 20,
                    Volume = LastOHLCV.Volume
                };
            OHLCVValues.Add(newOHLCV);
            LastOHLCV = newOHLCV;
        }
    }
}